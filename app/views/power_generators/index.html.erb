<div>
  <div class="header">
    <div class="logo"><%= image_tag 'ps_logo.png' %></div>
    <div class="header__title">Geradores de Energia</div>
  </div>

  <div class="searcher gradient">
    <div class="searcher__radio">
      <div class="form-check">
        <input class="form-check-input" type="radio" name="searchRadio" id="simpleSearch" value="simple"
        <%= (((params[:is_visible] == 'simple-form') || (params[:is_visible].nil?) )  ) ? 'checked' : ''  %>>
        <label class="form-check-label" for="simpleSearch">Pesquisa simples</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="searchRadio" id="advancedSearch" value="advanced" <%= params[:is_visible] == 'advanced-form' ? 'checked' : ''  %>>
        <label class="form-check-label" for="advancedSearch">Pesquisa Avançada</label>
      </div>
    </div>
    <%= search_form_for @q do |f| %>
      <%=hidden_field_tag :is_visible, 'simple-form'%>
      <div class="simple-form" style="<%= (((params[:is_visible] == 'simple-form') || (params[:is_visible].nil?) )  ) ? '' : 'display:none'  %>">
        <div class="simple-form__input">
          <%= f.search_field :name_or_description_cont, class: 'form-control form-control-lg', placeholder: 'o que procura?' %>
        </div>
        <div class="simple-form__btn">
          <button type="submit" class="btn btn-outline-primary btn-lg">Pesquisar</button>
        </div>
      </div>
    <% end %>
  </div>
  <div class="advanced-form" style="<%= params[:is_visible] == 'advanced-form' ? '' : 'display:none'  %> ">
    Entradas do usuário para pesquisar uma coleção de geradores de energia com base nas recomendações fornecidas e melhor custo de frete.
    <%= search_form_for @q do |f| %>
      <%=hidden_field_tag :is_visible, 'advanced-form'%>
      <%=f.label :name_or_description_or_manufacturer_cont, 'Filtrar por Nome/Descrição/Fabricante' %>
      <%=f.search_field :name_or_description_or_manufacturer_cont %><br />
      <%=f.label :width_lteq, 'Filtrar por Largura max(100)' %> <%=f.search_field :width_lteq, type: :number, max: 100, min: 0 %><br />
      <%=f.label :height_lteq, 'Filtrar por Altura max(40)' %> <%=f.search_field :height_lteq, type: :number, max: 40, min: 0 %><br />
      <%=f.label :lenght_lteq, 'Filtrar por Comprimento max(200)' %> <%=f.search_field :lenght_lteq, type: :number, max: 200, min: 0 %><br />
      <%=f.label :weight_lteq, 'Filtrar por Peso max(3000)' %> <%=f.search_field :weight_lteq, type: :number, max: 3000, min: 0 %><br />
      <%=f.label :price_lteq, 'Filtrar por Preço' %> <%=f.search_field :price_lteq, type: :number %><br />
      <%=f.label :structure_type_eq, 'Filtrar por Estrutura' %> <%=f.select :structure_type_eq, grouped_options_for_select({
        'Ignorar' => ['Ignorar Estrutura'],
        'Tipo de Estrutura' =>PowerGenerator.structure_types
      })%>
      <button type="submit" class="btn btn-outline-primary btn-lg">Pesquisar</button>
    <% end %>
  </div>
  <div class="container" >
    <% @power_generators.each do |power_generator| %>
      <div class="box card power_generator-card">
        <%= image_tag power_generator.image_url, class: 'power_generator-card__img' %>
        <div class="power_generator-card__body">
          <h2><%= power_generator.name.upcase %></h2>
          <p class="power_generator-card__price"><%= number_to_currency(power_generator.price, unit: "R$ ", precision: 2, :separator => ",", :delimiter => ".") %></p>
          <p><strong>Descrição: </strong><%= power_generator.description %></p>
        </div>
      </div>
    <% end %>
  </div>
</div>
